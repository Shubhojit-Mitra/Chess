"use strict";
var types = require("../../../common/types");
function formatDocument(proj, filePath) {
    var textChanges = proj.languageService.getFormattingEditsForDocument(filePath, proj.configFile.project.formatCodeOptions);
    var refactorings = textChanges.map(function (x) {
        var refactoring = {
            filePath: filePath,
            span: x.span,
            newText: x.newText
        };
        return refactoring;
    });
    return types.getRefactoringsByFilePath(refactorings);
}
exports.formatDocument = formatDocument;
function formatDocumentRange(proj, filePath, start, end) {
    var st = proj.languageServiceHost.getIndexFromPosition(filePath, start);
    var ed = proj.languageServiceHost.getIndexFromPosition(filePath, end);
    var textChanges = proj.languageService.getFormattingEditsForRange(filePath, st, ed, proj.configFile.project.formatCodeOptions);
    var refactorings = textChanges.map(function (x) {
        var refactoring = {
            filePath: filePath,
            span: x.span,
            newText: x.newText
        };
        return refactoring;
    });
    return types.getRefactoringsByFilePath(refactorings);
}
exports.formatDocumentRange = formatDocumentRange;
